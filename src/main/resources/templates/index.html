<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/fluidicon.png">
    <link rel="icon" href="/img/fluidicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="theme-color" content="#2f4154">
    <meta name="description" content="">
    <meta name="author" content="John Doe">
    <meta name="keywords" content="">
    <meta property="og:type" content="website">
    <meta property="og:title" content="üóÑ">
    <meta property="og:url" content="http://example.com/index.html">
    <meta property="og:site_name" content="üóÑ">
    <meta property="og:locale" content="en_US">
    <meta property="article:author" content="John Doe">
    <meta name="twitter:card" content="summary">

    <title>üóÑ</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/font_1749284_ba1fz6golrf.css">
    <link rel="stylesheet" href="/css/font_1736178_kmeydafke9r.css">
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="stylesheet" href="/css/macpanel.css">
    <script id="fluid-configs">
        var Fluid = window.Fluid || {};
        var CONFIG = {
            "hostname": "example.com",
            "root": "/",
            "version": "1.8.12",
            "typing": {"enable": true, "typeSpeed": 90, "cursorChar": "_", "loop": true},
            "anchorjs": {
                "enable": true,
                "element": "h1,h2,h3,h4,h5,h6",
                "placement": "right",
                "visible": "hover",
                "icon": ""
            },
            "progressbar": {
                "enable": true,
                "height_px": 3,
                "color": "#29d",
                "options": {"showSpinner": false, "trickleSpeed": 100}
            },
            "copy_btn": true,
            "image_zoom": {"enable": true, "img_url_replace": ["", ""]},
            "toc": {"enable": true, "headingSelector": "h1,h2,h3,h4,h5,h6", "collapseDepth": 0},
            "lazyload": {"enable": true, "loading_img": "/img/loading.gif", "onlypost": false, "offset_factor": 2},
            "web_analytics": {
                "enable": true,
                "baidu": null,
                "google": "G-SL9T1KRBQY",
                "gtag": null,
                "tencent": {"sid": null, "cid": null},
                "woyaola": null,
                "cnzz": null,
                "leancloud": {"app_id": null, "app_key": null, "server_url": null}
            },
            "search_path": "/local-search.xml"
        };
    </script>
    <script src="/js/utils.js"></script>
    <script src="/js/color-schema.js"></script>
    <script src="/js/echarts.js"></script>
    <script src="/js/echarts-wordcloud.js"></script>
    <meta name="generator" content="Hexo 6.0.0">
</head>
<body>


<header style="height: 100vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
        <div class="container">
            <a class="navbar-brand" href="/">
                <strong>üë©‚Äçüíª</strong>
            </a>
            <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <div class="animated-icon"><span></span><span></span><span></span></div>
            </button>
            <!-- Collapsible content -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto text-center">

                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="iconfont icon-home-fill"></i>
                            Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">
                            <i class="iconfont icon-user-fill"></i>
                            About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/referer">
                            <i class="iconfont icon-link-fill"></i>
                            referer
                        </a>
                    </li>
                    <li class="nav-item" id="color-toggle-btn">
                        <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.jpg') no-repeat center center;
           background-size: cover;">
        <div class="full-bg-img">
            <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
                <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Êï∞ÊçÆÈááÈõÜÂèäÂèØËßÜÂåñÈ°πÁõÆ">
            </span>
                </div>
                <div class="scroll-down-bar">
                    <i class="iconfont icon-arrowdown"></i>
                </div>
            </div>
        </div>
    </div>
</header>
<main>
    <div class="container nopadding-x-md">
        <div class="py-5" id="board"
             style=margin-top:0>
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-10 m-auto">
                        <br class="row mx-auto index-card">

                            <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
                                <i class="iconfont icon-arrowup" aria-hidden="true"></i>
                            </a>

                            <div style="display: flex;">
                                <article class="col-12 col-md-5 mx-auto index-info">
                                    <div id="barChart" style="width: 400px;height:300px;"></div>
                                    <script type="text/javascript" th:inline="javascript">
                                        var booknames = [[${booknameD}]];
                                        var scores = [[${starD}]];

                                        var barChart = echarts.init(document.getElementById('barChart'));

                                        var barOptions = {
                                            title: {
                                                text: 'Ë±ÜÁì£Âõæ‰π¶ËØÑÂàÜ',
                                                subtext: 'Êåâ‰π¶ÂêçÊéíÂ∫è',
                                                left: 'center'
                                            },
                                            tooltip: {
                                                trigger: 'axis',
                                                axisPointer: {
                                                    type: 'shadow'
                                                }
                                            },
                                            xAxis: {
                                                type: 'category',
                                                data: booknames,
                                                axisLabel: {
                                                    show: false,

                                                }
                                            },
                                            yAxis: {
                                                type: 'value'
                                            },
                                            dataZoom: [ // Ê∑ªÂä†ÊãñÂä®Âùó
                                                {
                                                    type: 'slider',
                                                    left: 'left',
                                                    start: 0,
                                                    end: 5, // ÂàùÂßãÊòæÁ§∫ÁöÑ‰π¶ÂêçÊï∞Èáè
                                                    showDetail: false
                                                }
                                            ],
                                            series: [
                                                {
                                                    name: 'ËØÑÂàÜ',
                                                    type: 'bar',
                                                    data: scores
                                                }
                                            ]
                                        };

                                        barChart.setOption(barOptions);
                                    </script>
                                </article>

                                <article class="col-12 col-md-5 mx-auto index-info">
                                    <div id="pieChart" style="width: 400px;height:300px;"></div>
                                    <script type="text/javascript" th:inline="javascript">
                                        var publishers = [[${pressD}]];
                                        var price = [[${priceD}]];
                                        var pieChart = echarts.init(document.getElementById('pieChart'));
                                        var pieOptions = {
                                            title: {
                                                text: 'Ë±ÜÁì£Âõæ‰π¶‰ª∑Ê†º‰∏éÂá∫ÁâàÁ§æ',
                                                left: 'center'
                                            },
                                            tooltip: {
                                                trigger: 'item',
                                                formatter: '{b}: {c} ({d}%)'
                                            },
                                            series: [
                                                {
                                                    name: 'Âá∫ÁâàÁ§æ',
                                                    type: 'pie',
                                                    radius: ['30%', '70%'],
                                                    data: publishers.map(function (item, index) {
                                                        return {
                                                            name: item,
                                                            value: price[index]
                                                        };
                                                    })
                                                }
                                            ]
                                        };
                                        pieChart.setOption(pieOptions);
                                    </script>
                                </article>
                            </div>
                        </br>
                            <div style="display: flex;">
                            <article class="col-12 col-md-5 mx-auto index-info">
                                <div id="lineChart" style="width: 400px;height:300px;"></div>
                                <script type="text/javascript" th:inline="javascript">
                                    var publishtimes = [[${publishtimeD}]];
                                    var prices = [[${priceD}]];
                                    var sortedData = publishtimes.map(function (item, index) {
                                        return {
                                            publishtime: item,
                                            price: prices[index]
                                        };
                                    }).sort(function (a, b) {
                                        return new Date(a.publishtime) - new Date(b.publishtime);
                                    });

                                    // ÂàÜÁ¶ªÊéíÂ∫èÂêéÁöÑÊï∞ÊçÆ
                                    publishtimes = sortedData.map(function (item) {
                                        return item.publishtime;
                                    });

                                    prices = sortedData.map(function (item) {
                                        return item.price;
                                    });

                                    var lineChart = echarts.init(document.getElementById('lineChart'));

                                    var lineOptions = {
                                        title: {
                                            text: 'Ë±ÜÁì£Âõæ‰π¶‰ª∑Ê†ºË∂ãÂäø',
                                            subtext: 'ÊåâÂá∫ÁâàÊó∂Èó¥ÊéíÂ∫è',
                                            left: 'center'
                                        },
                                        tooltip: {
                                            trigger: 'axis'
                                        },
                                        xAxis: {
                                            type: 'category',
                                            data: publishtimes,
                                            axisLabel: {
                                                show: false
                                            }
                                        },
                                        yAxis: {
                                            type: 'value'
                                        },
                                        series: [
                                            {
                                                name: '‰ª∑Ê†º',
                                                type: 'line',
                                                data: prices
                                            }
                                        ]
                                    };

                                    lineChart.setOption(lineOptions);
                                </script>
                            </article>
                            <article class="col-12 col-md-5 mx-auto index-info">
                                <div id="radarChart" style="width: 400px;height:280px;"></div>
                                <script type="text/javascript" th:inline="javascript">
                                    var publishers = [[${pressA}]];
                                    var scores = [[${starA}]];
                                    var radarChart = echarts.init(document.getElementById('radarChart'));

                                    var radarOptions = {
                                        title: {
                                            text: '‰∫öÈ©¨ÈÄäÂõæ‰π¶Âá∫ÁâàÁ§æËØÑÂàÜÂØπÊØî',
                                            left: 'center',
                                            top: 0 // Ë∞ÉÊï¥Ê†áÈ¢òÁöÑ‰ΩçÁΩÆ
                                        },
                                        tooltip: {},
                                        legend: {
                                            show: false
                                        },
                                        radar: {
                                            indicator: publishers.map(function (publisher) {
                                                return { name: publisher, max: Math.max(...scores) };
                                            })
                                        },
                                        series: [
                                            {
                                                name: 'ËØÑÂàÜ',
                                                type: 'radar',
                                                data: [
                                                    {
                                                        value: scores,
                                                        name: 'ËØÑÂàÜ'
                                                    }
                                                ]
                                            }
                                        ]
                                    };

                                    radarChart.setOption(radarOptions);
                                </script>
                            </article>
                            </div>
                    </br>
                            <div style="display: flex;">
                                <article class="col-12 col-md-5 mx-auto index-info">
                                    <div id="scatterChart" style="width: 400px;height:300px;"></div>
                                    <script type="text/javascript" th:inline="javascript">
                                        // ÂØπÂá∫ÁâàÊó∂Èó¥ÂíåËØÑÂàÜÊï∞ÊçÆËøõË°åÊéíÂ∫è
                                        var sortedData = publishtimes.map(function (item, index) {
                                            return {
                                                publishtime: item,
                                                score: scores[index]
                                            };
                                        }).sort(function (a, b) {
                                            return new Date(a.publishtime) - new Date(b.publishtime);
                                        });

                                        // ÂàÜÁ¶ªÊéíÂ∫èÂêéÁöÑÊï∞ÊçÆ
                                        publishtimes = sortedData.map(function (item) {
                                            return item.publishtime;
                                        });

                                        scores = sortedData.map(function (item) {
                                            return item.score;
                                        });

                                        var scatterChart = echarts.init(document.getElementById('scatterChart'));

                                        var scatterOptions = {
                                            title: {
                                                text: '‰∫öÈ©¨ÈÄäÂõæ‰π¶ËØÑÂàÜÂíåÂá∫ÁâàÊó∂Èó¥ÂÖ≥Á≥ª',
                                                left: 'center'
                                            },
                                            tooltip: {
                                                trigger: 'axis',
                                                formatter: function (params) {
                                                    var data = params[0].data;
                                                    return 'ËØÑÂàÜÔºö' + data[1] + '<br>Âá∫ÁâàÊó∂Èó¥Ôºö' + data[0];
                                                },
                                                axisPointer: {
                                                    type: 'cross'
                                                }
                                            },
                                            xAxis: {
                                                type: 'category',
                                                data: publishtimes
                                            },
                                            yAxis: {
                                                type: 'value'
                                            },
                                            series: [
                                                {
                                                    type: 'scatter',
                                                    data: publishtimes.map(function (item, index) {
                                                        return [item, scores[index]];
                                                    })
                                                }
                                            ]
                                        };

                                        scatterChart.setOption(scatterOptions);
                                    </script>
                                </article>
                                <article class="col-12 col-md-5 mx-auto index-info">
                                    <div id="funnelChart" style="width: 400px;height:300px;"></div>
                                    <script type="text/javascript" th:inline="javascript">
                                        var ratings = [[${starA}]];;
                                        var ratingDistribution = {};
                                        for (var i = 0; i < ratings.length; i++) {
                                            var rating = ratings[i];
                                            if (ratingDistribution[rating]) {
                                                ratingDistribution[rating]++;
                                            } else {
                                                ratingDistribution[rating] = 1;
                                            }
                                        }
                                        var distributionData = [];
                                        for (var rating in ratingDistribution) {
                                            distributionData.push({
                                                name: rating + 'Êòü',
                                                value: ratingDistribution[rating]
                                            });
                                        }
                                        var funnelChart = echarts.init(document.getElementById('funnelChart'));
                                        var funnelOptions = {
                                            title: {
                                                text: '‰∫öÈ©¨ÈÄäÂõæ‰π¶ËØÑÂàÜÂàÜÂ∏É',
                                                left: 'center'
                                            },
                                            tooltip: {
                                                trigger: 'item',
                                                formatter: '{a} <br/>{b} : {c}%'
                                            },
                                            calculable: true,
                                            series: [
                                                {
                                                    name: 'ËØÑÂàÜÂàÜÂ∏É',
                                                    type: 'funnel',
                                                    left: '10%',
                                                    top: 60,
                                                    bottom: 60,
                                                    width: '80%',
                                                    min: 0,
                                                    max: Math.max(...Object.values(ratingDistribution)),
                                                    minSize: '0%',
                                                    maxSize: '100%',
                                                    sort: 'descending',
                                                    gap: 2,
                                                    label: {
                                                        show: true,
                                                        position: 'inside'
                                                    },
                                                    labelLine: {
                                                        length: 10,
                                                        lineStyle: {
                                                            width: 1,
                                                            type: 'solid'
                                                        }
                                                    },
                                                    itemStyle: {
                                                        borderColor: '#fff',
                                                        borderWidth: 1
                                                    },
                                                    emphasis: {
                                                        label: {
                                                            fontSize: 20
                                                        }
                                                    },
                                                    data: distributionData
                                                }
                                            ]
                                        };
                                        funnelChart.setOption(funnelOptions);
                                    </script>
                                </article>
                            </div>
                    </br>
                            <article class="col-12 col-md-12 mx-auto index-info">
                                <div id="wordCloudChart" style="width: 800px;height:600px;"></div>
                                <script type="text/javascript" th:inline="javascript">
                                    var doubanComments = [[${commentD}]];
                                    var amazonComments = [[${commentA}]]
                                    var allComments = doubanComments.concat(amazonComments);
                                    var wordCloudChart = echarts.init(document.getElementById('wordCloudChart'));
                                    var wordCloudOptions = {
                                        title: {
                                            text: 'Âõæ‰π¶ËØÑËÆ∫ËØç‰∫ë',
                                            left: 'center'
                                        },
                                        series: [
                                            {
                                                type: 'wordCloud',
                                                shape: 'circle',
                                                gridSize: 5,
                                                sizeRange: [10, 40],
                                                rotationRange: [-90, 90],
                                                textStyle: {
                                                    normal: {
                                                        fontFamily: 'Arial'
                                                    }
                                                },
                                                data: allComments.map(function (comment) {
                                                    return {
                                                        name: comment,
                                                        value: 600 // Ë∞ÉÊï¥ÊùÉÈáçÂÄº
                                                    };
                                                })
                                            }
                                        ]
                                    };
                                    wordCloudChart.setOption(wordCloudOptions);
                                </script>
                            </article>
</main>

<footer class="text-center mt-5 py-3">
    <div class="footer-content">
        <a href="https://cst.nuc.edu.cn/" target="_blank"
           rel="nofollow noopener"><span>‰∏≠ÂåóÂ§ßÂ≠¶ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏éÊäÄÊúØÂ≠¶Èô¢</span></a>
    </div>
</footer>
<script src="/js/nprogress.min.js"></script>
<link rel="stylesheet" href="/css/nprogress.min.css"/>
<script>
    NProgress.configure({"showSpinner": false, "trickleSpeed": 100})
    NProgress.start()
    window.addEventListener('load', function () {
        NProgress.done();
    })
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/events.js"></script>
<script src="/js/plugins.js"></script>
<script src="/js/local-search.js"></script>
<script src="/js/img-lazyload.js"></script>
<script src="/js/typed.min.js"></script>
<script>
    (function (window, document) {
        var typing = Fluid.plugins.typing;
        var title = document.getElementById('subtitle').title;
        typing(title)
    })(window, document);
</script>
<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°π ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<script src="/js/boot.js"></script>
</body>
</html>
